# Staging Environment Configuration Template
# Copy this file to .env and customize for your staging environment

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
COMPLIANCE_SENTINEL_ENVIRONMENT=staging
COMPLIANCE_SENTINEL_SERVICE_NAME=compliance-sentinel-staging
COMPLIANCE_SENTINEL_VERSION=1.0.0-staging

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
COMPLIANCE_SENTINEL_LOG_LEVEL=INFO
COMPLIANCE_SENTINEL_ROOT_LOG_LEVEL=WARNING
COMPLIANCE_SENTINEL_LOG_FORMAT=json
COMPLIANCE_SENTINEL_CONSOLE_LOGGING=true
COMPLIANCE_SENTINEL_FILE_LOGGING=true
COMPLIANCE_SENTINEL_LOG_FILE=/var/log/compliance-sentinel/app.log
COMPLIANCE_SENTINEL_JSON_LOGGING=true
COMPLIANCE_SENTINEL_STRUCTURED_LOGGING=true
COMPLIANCE_SENTINEL_SECURITY_FILTER=true
COMPLIANCE_SENTINEL_MAX_LOG_SIZE_MB=100
COMPLIANCE_SENTINEL_LOG_BACKUP_COUNT=5

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================
COMPLIANCE_SENTINEL_PYTHON_VERSION=3.11
COMPLIANCE_SENTINEL_ANALYSIS_TOOLS=bandit,semgrep
COMPLIANCE_SENTINEL_MCP_SERVER_URL=http://localhost:8000
COMPLIANCE_SENTINEL_CACHE_TTL=3600
COMPLIANCE_SENTINEL_MAX_CONCURRENT_ANALYSES=4
COMPLIANCE_SENTINEL_SEVERITY_THRESHOLD=medium
COMPLIANCE_SENTINEL_ENABLE_EXTERNAL_INTELLIGENCE=true
COMPLIANCE_SENTINEL_ANALYSIS_TIMEOUT=240
COMPLIANCE_SENTINEL_HOOKS_ENABLED=true
COMPLIANCE_SENTINEL_IDE_FEEDBACK_ENABLED=true

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================
COMPLIANCE_SENTINEL_MCP_HOST=0.0.0.0
COMPLIANCE_SENTINEL_MCP_PORT=8000
COMPLIANCE_SENTINEL_MCP_WORKERS=4
COMPLIANCE_SENTINEL_MCP_ENABLE_CORS=true
COMPLIANCE_SENTINEL_MCP_API_KEY_REQUIRED=true
COMPLIANCE_SENTINEL_MCP_RATE_LIMIT_REQUESTS=500
COMPLIANCE_SENTINEL_MCP_RATE_LIMIT_WINDOW=3600
COMPLIANCE_SENTINEL_MCP_CACHE_ENABLED=true
COMPLIANCE_SENTINEL_MCP_CACHE_SIZE=2000

# =============================================================================
# EXTERNAL API CONFIGURATION
# =============================================================================
MCP_NVD_BASE_URL=https://services.nvd.nist.gov/rest/json/cves/2.0
MCP_CVE_BASE_URL=https://cve.circl.lu/api
MCP_OSV_BASE_URL=https://api.osv.dev/v1
MCP_NVD_DELAY_SECONDS=6.0
MCP_CVE_DELAY_SECONDS=1.0
MCP_REQUEST_TIMEOUT_SECONDS=30.0
MCP_DEFAULT_SEARCH_LIMIT=20
MCP_DEFAULT_LATEST_LIMIT=50
MCP_MAX_RETRY_ATTEMPTS=3
MCP_RETRY_BASE_DELAY=2.0

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
MCP_CACHE_TTL_SECONDS=3600
MCP_COMPLIANCE_CACHE_TTL_SECONDS=7200
MCP_REQUIREMENTS_CACHE_TTL_SECONDS=86400

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================
COMPLIANCE_SENTINEL_AUTH_JWT_ALGORITHM=HS256
COMPLIANCE_SENTINEL_AUTH_JWT_EXPIRY_HOURS=12
COMPLIANCE_SENTINEL_AUTH_API_KEY_LENGTH=32
COMPLIANCE_SENTINEL_AUTH_DEFAULT_API_KEY_EXPIRY_DAYS=180
COMPLIANCE_SENTINEL_AUTH_ENABLE_DEFAULT_ADMIN_KEY=false
COMPLIANCE_SENTINEL_AUTH_PASSWORD_HASH_SCHEMES=["bcrypt", "argon2"]

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
MCP_RATE_LIMIT_TRUSTED_REQUESTS=2000
MCP_RATE_LIMIT_TRUSTED_WINDOW=3600
MCP_RATE_LIMIT_NORMAL_REQUESTS=200
MCP_RATE_LIMIT_NORMAL_WINDOW=3600
MCP_RATE_LIMIT_SUSPICIOUS_REQUESTS=20
MCP_RATE_LIMIT_SUSPICIOUS_WINDOW=3600
MCP_RATE_LIMIT_BLOCKED_REQUESTS=0
MCP_RATE_LIMIT_BLOCKED_WINDOW=3600

# =============================================================================
# METRICS AND MONITORING
# =============================================================================
METRICS_ENABLED=true
METRICS_COLLECTION_INTERVAL=30
METRICS_MAX_HISTORY=2000
METRICS_RETENTION_HOURS=48
METRICS_EXPORT_ENABLED=true
METRICS_EXPORT_FORMAT=prometheus
METRICS_ALERTS_ENABLED=true
METRICS_ALERT_WEBHOOK_URL=https://your-monitoring-system.com/webhooks/alerts

# =============================================================================
# CLI CONFIGURATION
# =============================================================================
COMPLIANCE_SENTINEL_CLI_MAX_FILES=200
COMPLIANCE_SENTINEL_CLI_DEFAULT_PATTERN=**/*.{py,js,ts,java,go}
COMPLIANCE_SENTINEL_CLI_OUTPUT_FORMAT=json
COMPLIANCE_SENTINEL_CLI_VERBOSE=false
COMPLIANCE_SENTINEL_CLI_COLORS=true
COMPLIANCE_SENTINEL_CLI_PROGRESS=true

# =============================================================================
# ANALYSIS CONFIGURATION
# =============================================================================
COMPLIANCE_SENTINEL_ANALYSIS_OUTPUT_FORMAT=json
COMPLIANCE_SENTINEL_ANALYSIS_SEVERITY_THRESHOLD=medium
COMPLIANCE_SENTINEL_ANALYSIS_FILE_EXTENSIONS=.py,.js,.ts,.java,.go,.rb,.php
COMPLIANCE_SENTINEL_ANALYSIS_MAX_FILE_SIZE_MB=20
COMPLIANCE_SENTINEL_ANALYSIS_TIMEOUT_SECONDS=240

# =============================================================================
# HOOK CONFIGURATION
# =============================================================================
COMPLIANCE_SENTINEL_HOOK_FILE_PATTERNS=["*.py", "*.js", "*.ts", "*.java", "*.go"]
COMPLIANCE_SENTINEL_HOOK_EXCLUDED_DIRS=["node_modules", "__pycache__", ".git", ".venv", "venv", "build", "dist"]
COMPLIANCE_SENTINEL_HOOK_ANALYSIS_TIMEOUT=90
COMPLIANCE_SENTINEL_HOOK_ASYNC_PROCESSING=true
COMPLIANCE_SENTINEL_HOOK_BATCH_SIZE=15
COMPLIANCE_SENTINEL_HOOK_DEBOUNCE_DELAY=1.0

# =============================================================================
# SECRETS (MUST BE SET FOR STAGING)
# =============================================================================
# Generate secure secrets for staging environment
COMPLIANCE_SENTINEL_AUTH_JWT_SECRET=${JWT_SECRET}
COMPLIANCE_SENTINEL_AUTH_ADMIN_API_KEY=${ADMIN_API_KEY}

# External API keys
NVD_API_KEY=${NVD_API_KEY}

# =============================================================================
# STAGING-SPECIFIC SETTINGS
# =============================================================================
# Disable debug features
COMPLIANCE_SENTINEL_DEBUG_ENABLED=false

# Disable test data
COMPLIANCE_SENTINEL_ALLOW_TEST_DATA=false

# Enable production-like validations
COMPLIANCE_SENTINEL_STRICT_VALIDATION=true

# Enable syslog for centralized logging
COMPLIANCE_SENTINEL_SYSLOG_ENABLED=true
COMPLIANCE_SENTINEL_SYSLOG_ADDRESS=syslog-server:514