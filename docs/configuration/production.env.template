# Production Environment Configuration Template
# Copy this file to .env.production and customize values for your production environment

# =============================================================================
# CORE SYSTEM CONFIGURATION
# =============================================================================

# Environment identifier (production, staging, development, test)
COMPLIANCE_SENTINEL_ENVIRONMENT=production

# Debug and logging settings (production should have debug disabled)
COMPLIANCE_SENTINEL_DEBUG_ENABLED=false
COMPLIANCE_SENTINEL_LOG_LEVEL=INFO
COMPLIANCE_SENTINEL_LOG_FORMAT=json
COMPLIANCE_SENTINEL_LOG_DESTINATION=file
COMPLIANCE_SENTINEL_LOG_FILE_PATH=/var/log/compliance-sentinel/app.log
COMPLIANCE_SENTINEL_LOG_MAX_FILE_SIZE_MB=100
COMPLIANCE_SENTINEL_LOG_BACKUP_COUNT=10

# Performance and resource limits (conservative for production)
COMPLIANCE_SENTINEL_MAX_CONCURRENT_ANALYSES=3
COMPLIANCE_SENTINEL_MAX_FILE_SIZE_MB=10
COMPLIANCE_SENTINEL_REQUEST_TIMEOUT_SECONDS=30.0
COMPLIANCE_SENTINEL_WORKER_THREADS=4

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Cache settings (longer TTL for production stability)
COMPLIANCE_SENTINEL_CACHE_ENABLED=true
COMPLIANCE_SENTINEL_CACHE_TTL=3600
COMPLIANCE_SENTINEL_CACHE_MAX_SIZE=1000
COMPLIANCE_SENTINEL_CACHE_CLEANUP_INTERVAL=300

# Cache backend configuration
COMPLIANCE_SENTINEL_CACHE_BACKEND=redis
COMPLIANCE_SENTINEL_REDIS_HOST=redis.internal
COMPLIANCE_SENTINEL_REDIS_PORT=6379
COMPLIANCE_SENTINEL_REDIS_DB=0
COMPLIANCE_SENTINEL_REDIS_PASSWORD=${REDIS_PASSWORD}
COMPLIANCE_SENTINEL_REDIS_SSL=true

# =============================================================================
# EXTERNAL SERVICE CONFIGURATION
# =============================================================================

# Circuit breaker settings (conservative for production)
COMPLIANCE_SENTINEL_CIRCUIT_BREAKER_ENABLED=true
COMPLIANCE_SENTINEL_CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
COMPLIANCE_SENTINEL_CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
COMPLIANCE_SENTINEL_CIRCUIT_BREAKER_SUCCESS_THRESHOLD=3

# External API endpoints
COMPLIANCE_SENTINEL_NVD_BASE_URL=https://services.nvd.nist.gov/rest/json
COMPLIANCE_SENTINEL_CVE_BASE_URL=https://cve.circl.lu/api
COMPLIANCE_SENTINEL_OSV_BASE_URL=https://api.osv.dev
COMPLIANCE_SENTINEL_GITHUB_ADVISORY_URL=https://api.github.com/advisories

# API rate limiting (respect external service limits)
COMPLIANCE_SENTINEL_NVD_RATE_LIMIT=50
COMPLIANCE_SENTINEL_CVE_RATE_LIMIT=100
COMPLIANCE_SENTINEL_OSV_RATE_LIMIT=200
COMPLIANCE_SENTINEL_GITHUB_RATE_LIMIT=5000

# API authentication (use secrets manager in production)
COMPLIANCE_SENTINEL_NVD_API_KEY=${NVD_API_KEY}
COMPLIANCE_SENTINEL_GITHUB_TOKEN=${GITHUB_TOKEN}

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================

# Server binding (production should bind to specific interface)
MCP_HOST=0.0.0.0
MCP_PORT=8000
MCP_WORKERS=4

# Security settings
MCP_API_KEY_REQUIRED=true
MCP_CORS_ENABLED=false
MCP_CORS_ORIGINS=https://your-domain.com

# Rate limiting (strict for production)
MCP_RATE_LIMIT_REQUESTS=100
MCP_RATE_LIMIT_WINDOW=60
MCP_RATE_LIMIT_BURST=20

# Request handling
MCP_REQUEST_TIMEOUT_SECONDS=30.0
MCP_MAX_REQUEST_SIZE_MB=10
MCP_DEFAULT_SEARCH_LIMIT=50
MCP_MAX_SEARCH_LIMIT=100

# Cache configuration
MCP_CACHE_TTL_SECONDS=1800
MCP_CACHE_MAX_ENTRIES=10000

# =============================================================================
# AUTHENTICATION AND SECURITY
# =============================================================================

# JWT configuration (use strong secrets in production)
COMPLIANCE_SENTINEL_AUTH_JWT_SECRET=${JWT_SECRET_KEY}
COMPLIANCE_SENTINEL_AUTH_JWT_ALGORITHM=HS256
COMPLIANCE_SENTINEL_AUTH_JWT_EXPIRY_HOURS=24
COMPLIANCE_SENTINEL_AUTH_JWT_ISSUER=compliance-sentinel-prod

# API key configuration
COMPLIANCE_SENTINEL_AUTH_API_KEY_LENGTH=64
COMPLIANCE_SENTINEL_AUTH_API_KEY_PREFIX=cs_prod_
COMPLIANCE_SENTINEL_AUTH_API_KEY_EXPIRY_DAYS=90

# Password policy (strict for production)
COMPLIANCE_SENTINEL_AUTH_MIN_PASSWORD_LENGTH=12
COMPLIANCE_SENTINEL_AUTH_REQUIRE_SPECIAL_CHARS=true
COMPLIANCE_SENTINEL_AUTH_REQUIRE_NUMBERS=true
COMPLIANCE_SENTINEL_AUTH_REQUIRE_UPPERCASE=true

# Session management
COMPLIANCE_SENTINEL_AUTH_SESSION_TIMEOUT_MINUTES=60
COMPLIANCE_SENTINEL_AUTH_MAX_FAILED_ATTEMPTS=3
COMPLIANCE_SENTINEL_AUTH_LOCKOUT_DURATION_MINUTES=30

# =============================================================================
# SECRET MANAGEMENT
# =============================================================================

# Secret manager configuration (AWS Secrets Manager for production)
COMPLIANCE_SENTINEL_SECRET_MANAGER_TYPE=aws
COMPLIANCE_SENTINEL_SECRET_MANAGER_REGION=us-east-1
COMPLIANCE_SENTINEL_SECRET_MANAGER_PREFIX=compliance-sentinel/prod/

# Secret rotation
COMPLIANCE_SENTINEL_SECRET_ROTATION_ENABLED=true
COMPLIANCE_SENTINEL_SECRET_ROTATION_INTERVAL_DAYS=30
COMPLIANCE_SENTINEL_SECRET_CACHE_TTL=300

# =============================================================================
# FILE MONITORING
# =============================================================================

# File watching configuration (conservative for production)
COMPLIANCE_SENTINEL_FILE_WATCHER_ENABLED=true
COMPLIANCE_SENTINEL_FILE_WATCHER_DEBOUNCE_MS=1000
COMPLIANCE_SENTINEL_FILE_WATCHER_MAX_FILES=1000
COMPLIANCE_SENTINEL_FILE_WATCHER_PATTERNS=*.py,*.js,*.ts,*.java,*.go,*.rb,*.php

# File processing limits
COMPLIANCE_SENTINEL_FILE_MAX_SIZE_MB=10
COMPLIANCE_SENTINEL_FILE_EXCLUDE_PATTERNS=node_modules/**,*.min.js,*.map,__pycache__/**

# =============================================================================
# MONITORING AND METRICS
# =============================================================================

# Metrics collection
COMPLIANCE_SENTINEL_METRICS_ENABLED=true
COMPLIANCE_SENTINEL_METRICS_PORT=9090
COMPLIANCE_SENTINEL_METRICS_PATH=/metrics
COMPLIANCE_SENTINEL_METRICS_COLLECTION_INTERVAL=30

# Health check configuration
COMPLIANCE_SENTINEL_HEALTH_CHECK_ENABLED=true
COMPLIANCE_SENTINEL_HEALTH_CHECK_PORT=8080
COMPLIANCE_SENTINEL_HEALTH_CHECK_PATH=/health

# Alerting thresholds (production-appropriate)
COMPLIANCE_SENTINEL_ALERT_ERROR_RATE_THRESHOLD=0.05
COMPLIANCE_SENTINEL_ALERT_RESPONSE_TIME_THRESHOLD=5000
COMPLIANCE_SENTINEL_ALERT_MEMORY_USAGE_THRESHOLD=0.85
COMPLIANCE_SENTINEL_ALERT_CPU_USAGE_THRESHOLD=0.80

# =============================================================================
# CLI CONFIGURATION
# =============================================================================

# CLI behavior (minimal output for production scripts)
COMPLIANCE_SENTINEL_CLI_VERBOSE=false
COMPLIANCE_SENTINEL_CLI_COLORS=false
COMPLIANCE_SENTINEL_CLI_PROGRESS=false
COMPLIANCE_SENTINEL_CLI_OUTPUT_FORMAT=json

# Analysis configuration
COMPLIANCE_SENTINEL_CLI_DEFAULT_PATTERN=**/*.{py,js,ts,java,go,rb,php}
COMPLIANCE_SENTINEL_CLI_MAX_FILES=10000
COMPLIANCE_SENTINEL_CLI_SEVERITY_THRESHOLD=medium

# =============================================================================
# DATABASE CONFIGURATION (if applicable)
# =============================================================================

# Database connection (use connection pooling in production)
COMPLIANCE_SENTINEL_DB_HOST=${DB_HOST}
COMPLIANCE_SENTINEL_DB_PORT=5432
COMPLIANCE_SENTINEL_DB_NAME=compliance_sentinel_prod
COMPLIANCE_SENTINEL_DB_USER=${DB_USER}
COMPLIANCE_SENTINEL_DB_PASSWORD=${DB_PASSWORD}
COMPLIANCE_SENTINEL_DB_SSL_MODE=require

# Connection pooling
COMPLIANCE_SENTINEL_DB_POOL_SIZE=20
COMPLIANCE_SENTINEL_DB_MAX_OVERFLOW=30
COMPLIANCE_SENTINEL_DB_POOL_TIMEOUT=30
COMPLIANCE_SENTINEL_DB_POOL_RECYCLE=3600

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Backup configuration
COMPLIANCE_SENTINEL_BACKUP_ENABLED=true
COMPLIANCE_SENTINEL_BACKUP_INTERVAL_HOURS=24
COMPLIANCE_SENTINEL_BACKUP_RETENTION_DAYS=30
COMPLIANCE_SENTINEL_BACKUP_S3_BUCKET=${BACKUP_S3_BUCKET}
COMPLIANCE_SENTINEL_BACKUP_S3_PREFIX=compliance-sentinel/prod/

# =============================================================================
# COMPLIANCE AND AUDIT
# =============================================================================

# Audit logging (required for production compliance)
COMPLIANCE_SENTINEL_AUDIT_ENABLED=true
COMPLIANCE_SENTINEL_AUDIT_LOG_PATH=/var/log/compliance-sentinel/audit.log
COMPLIANCE_SENTINEL_AUDIT_LOG_FORMAT=json
COMPLIANCE_SENTINEL_AUDIT_RETENTION_DAYS=365

# Compliance frameworks
COMPLIANCE_SENTINEL_COMPLIANCE_FRAMEWORKS=SOC2,PCI-DSS,GDPR,HIPAA
COMPLIANCE_SENTINEL_COMPLIANCE_REPORTING_ENABLED=true
COMPLIANCE_SENTINEL_COMPLIANCE_REPORT_INTERVAL_HOURS=24

# =============================================================================
# NOTES FOR PRODUCTION DEPLOYMENT
# =============================================================================

# 1. Replace all ${VARIABLE} placeholders with actual secret values
# 2. Store sensitive values in a secure secret management system
# 3. Use infrastructure-as-code to manage environment variables
# 4. Regularly rotate secrets and API keys
# 5. Monitor all external service dependencies
# 6. Set up proper alerting for all critical thresholds
# 7. Ensure proper backup and disaster recovery procedures
# 8. Implement proper access controls and audit logging
# 9. Use TLS/SSL for all network communications
# 10. Regularly update and patch all dependencies